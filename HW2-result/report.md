## Abstract

Доработка DSSM-рекоммендора и эвристики

## Детали

С самого начала бросается в глаза, что в DSSM брать случайного соседа не оптимально, поэтому
будем циклично брать в отсортированном порядке, от начала до конца, если вышли за границу-обнуляем индекс.

Также проранжируем прослушанные треки пользователем по времени слушания: 
* Больше 0.85 - трек liked
* Меньше 0.3 - unliked.

И когда мы уже не в первый раз пойдем по списку, порядок действий будет такой:  
* если трек содержится в liked у данного пользователя, он слушает его повторно
* если в unliked - слушает рандомный трек из его liked
* иначе просто слушает контекстную рекомендацию по предыдущему прослушанному треку.

Этот алгоритм поможет не заслушивать пользователям одни и те же треки.

## Результат


## Детали запуска
1) Запускаем botify:

cd ./botify \
docker-compose up -d --build --force-recreate --scale recommender=2 \

2) Запускаем симуляцию:

cd ../sim \
python -m sim.run --episodes 2000 --config config/env.yml single --recommender remote --seed 31337

3) Собираем логи

cd ../botify \
docker cp botify-recommender-1:/app/log/data.json ./logs/data1.json \
docker cp botify-recommender-2:/app/log/data.json ./logs/data2.json

4) Запуск A/B теста - запускаем notebook с первой недели
